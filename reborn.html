<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Reborn (C-Drama) - DramaKan</title>
    <link rel="icon" type="image/png" href="favicon.png" sizes="48x48">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="23"> 
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">You are watching Episode 1</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Episodes</h2>
                    <div class="episodes-list" id="episodes-list-container">
                        </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Downloads</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                                </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/JBWLLo_5s.jpg" alt="Zhang Jing Yi">
                                <div class="cast-info"><h4 class="actor-name">Zhang Jing Yi</h4><p class="character-name">Qiao Qing Yu (Main Cast)</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/3oxmrd_5s.jpg" alt="Zhou Yi Ran">
                                <div class="cast-info"><h4 class="actor-name">Zhou Yi Ran</h4><p class="character-name">Ming Sheng (Main Cast)</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/YYnnoP_5s.jpg" alt="Liu Dan">
                                <div class="cast-info"><h4 class="actor-name">Liu Dan</h4><p class="character-name">Li Fang Hao (Qing Yu's Mother)</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="widget comments-widget">
                     <div class="comments-header">
                        <h2 class="widget-title">Comments (<span id="comment-count">1</span>)</h2>
                     </div>
                     <form class="comment-form" id="comment-form">
                        <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="Guest Avatar">
                        <textarea placeholder="Join the discussion..." required></textarea>
                        <button type="submit" aria-label="Post Comment"><i class="fas fa-paper-plane"></i></button>
                     </form>
                     <div class="comments-list" id="comments-list-container">
                        <div class="comment">
                            <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="User Avatar">
                            <div class="comment-content">
                                <p class="comment-author">TruthSeeker <span>- just now</span></p>
                                <p class="comment-text">The story is heavy but so important for youth dramas. Zhang Jing Yi and Zhou Yi Ran's chemistry is subtle and perfect for this kind of slow-burn story!</p>
                                <div class="comment-actions">
                                    <a href="#"><i class="fas fa-thumbs-up"></i> 5</a>
                                    <a href="#"><i class="fas fa-reply"></i> Reply</a>
                                </div>
                            </div>
                        </div>
                     </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src="https://m.media-amazon.com/images/M/MV5BYzAyNGFmZDItMTYyZC00ZGFjLWIwOTItYmQwYTRmNGFkODVlXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="Reborn Poster"></div>
                    <h2 class="info-title">Reborn (焕羽)</h2> 
                    <p class="info-synopsis truncated" id="synopsis-text">
                        In 2007, 16-year-old Qiao Qing Yu and her family are forced to move after being tormented by rumors surrounding her sister Qiao Bei Yu’s death. To restore a normal life, Qing Yu, with the help of her classmate Ming Sheng, begins to search for the truth behind her sister's death. As she uncovers the full story, she is shocked by the injustice her sister endured and resolves to seek justice, facing dark and challenging real-world problems.
                    </p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> C-Drama</p>
                        <p><span>Studio:</span> WeTV / Tencent</p>
                        <p><span>Aired:</span> 2025</p>
                        <p><span>Status:</span> Finished</p>
                        <p><span>Score:</span> 9.2/10</p>
                        <p><span>Duration:</span> 45m (approx)</p>
                        <p><span>Genres:</span> Youth, Mystery, Slice-of-Life, Romance</p>
                    </div>
                </div>
                <div class="widget recommendations-widget">
                    <h2 class="widget-title">You Might Also Like</h2>
                    <div class="recommendations-list">
                        <a href="mimicus.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BOTE1OTc1ZDUtZWRhYy00OTk3LWFhY2YtMmIyYTQ0MDE5N2QwXkEyXkFqcGc@._V1_.jpg" alt="Mimicus">
                            <div class="rec-card-info"><p class="rec-title">Mimicus</p><p class="rec-meta">K-Drama • Finished</p></div>
                        </a>
                        <a href="bluebirthday.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BMGFhODc1NTEtOThhMC00NDAxLThiN2QtYjU2MWY2ZTBlMjM0XkEyXkFqcGc@._V1_.jpg" alt="Blue Birthday">
                            <div class="rec-card-info"><p class="rec-title">Blue Birthday</p><p class="rec-meta">K-Drama • Finished</p></div>
                        </a>
                        <a href="shadowbeauty.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BZjU2NjdmMzAtMjExZC00NjM0LWE0MzMtNjEwYmExYTc2NzFiXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="Shadow Beauty">
                            <div class="rec-card-info"><p class="rec-title">Shadow Beauty</p><p class="rec-meta">K-Drama • Finished</p></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

 <script>
    document.addEventListener('DOMContentLoaded', function() {
       
        // --- DRAMA PAGE FUNCTIONALITY ---

        // Episode data for "Reborn" - 23 episodes
        const episodeData = [
            // Using generic titles for episodes, as only two were explicitly found in search results.
            { number: 1, title: 'Episode 1', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=1', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 2, title: 'Episode 2', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=2', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 3, title: 'Episode 3', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=3', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 4, title: 'Episode 4', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=4', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 5, title: 'Episode 5', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=5', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 6, title: 'Episode 6', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=6', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 7, title: 'Episode 7', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=7', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 8, title: 'Episode 8', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=8', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 9, title: 'Episode 9', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=9', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 10, title: 'Episode 10', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=10', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 11, title: 'Episode 11', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=11', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 12, title: 'Episode 12', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=12', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 13, title: 'Episode 13', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=13', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 14, title: 'Episode 14', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=14', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 15, title: 'Episode 15', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=15', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 16, title: 'Bei Yu\'s Wish', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=16', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 17, title: 'Every Family Has Its Struggles', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=17', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 18, title: 'I Lied. I Have an Umbrella', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=18', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 19, title: 'Episode 19', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=19', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 20, title: 'Episode 20', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=20', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 21, title: 'Episode 21', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=21', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 22, title: 'Episode 22', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=22', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 23, title: 'Finale', videoUrl: 'https://multiembed.mov/?video_id=tt29274749&s=1&e=23', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] }
        ];
        
        let currentEpisode = 1;
        // Total episodes updated to 23
        const totalEpisodes = 23; 

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(episodeNumber) {
            currentEpisode = parseInt(episodeNumber, 10);
            const episode = episodeData.find(ep => ep.number === currentEpisode);
            if (episode && episode.videoUrl) { videoPlayer.src = episode.videoUrl; }
            currentEpisodeTitle.textContent = `You are watching Episode ${currentEpisode} - ${episode.title}`;
            document.querySelectorAll('.episode-item').forEach(item => { item.classList.toggle('current', parseInt(item.dataset.episode, 10) === currentEpisode); });
            document.querySelector(`.episode-item[data-episode='${currentEpisode}']`)?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            downloadLinksTbody.innerHTML = '';
            if (episode && episode.downloadLinks) {
                episode.downloadLinks.forEach(link => {
                    downloadLinksTbody.innerHTML += `
                        <tr>
                            <td data-label="Episode">Episode ${currentEpisode}</td>
                            <td data-label="Quality">${link.quality}</td>
                            <td data-label="Video"><a href="${link.url}" class="download-btn" target="_blank" rel="noopener noreferrer"><i class="fas fa-download"></i> Download</a></td>
                            <td data-label="Subtitles"><a href="${episode.subtitleUrl}" class="download-btn" target="_blank" rel="noopener noreferrer"><i class="fas fa-closed-captioning"></i> Download</a></td>
                        </tr>`;
                });
            }
            prevBtn.disabled = currentEpisode === 1;
            nextBtn.disabled = currentEpisode === totalEpisodes;
        }

        function generateEpisodeList() {
            for (let i = 1; i <= totalEpisodes; i++) {
                const episode = episodeData.find(ep => ep.number === i) || { number: i, title: `Episode ${i}` };
                episodeListContainer.innerHTML += `<a class="episode-item" data-episode="${episode.number}"><div class="ep-info"><p class="ep-number">Episode ${episode.number}</p><p class="ep-desc">${episode.title}</p></div></a>`;
            }
        }
        
        episodeListContainer.addEventListener('click', (e) => { const item = e.target.closest('.episode-item'); if (item) updateUI(item.dataset.episode); });
        prevBtn.addEventListener('click', () => { if (currentEpisode > 1) updateUI(currentEpisode - 1); });
        nextBtn.addEventListener('click', () => { if (currentEpisode < totalEpisodes) updateUI(currentEpisode + 1); });
        generateEpisodeList();
        updateUI(1);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) { readMoreBtn.addEventListener('click', (e) => { e.preventDefault(); synopsisText.classList.toggle('truncated'); readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less'; }); }

        const commentForm = document.getElementById('comment-form');
        const commentTextarea = commentForm.querySelector('textarea');
        const commentsListContainer = document.getElementById('comments-list-container');
        const commentCountSpan = document.getElementById('comment-count');
        
        const customAvatars = [ '', '', '', '', '' ];

        commentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const commentText = commentTextarea.value.trim();
            if (commentText === '') { return; }
            const randomAvatar = customAvatars[Math.floor(Math.random() * customAvatars.length)];
            const sanitizedText = commentText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            const newCommentHTML = `
                <div class="comment">
                    <img class="user-avatar" src="${randomAvatar}" alt="User Avatar">
                    <div class="comment-content">
                        <p class="comment-author">Guest <span>- just now</span></p>
                        <p class="comment-text">${sanitizedText}</p>
                        <div class="comment-actions">
                            <a href="#"><i class="fas fa-thumbs-up"></i> 0</a>
                            <a href="#"><i class="fas fa-reply"></i> Reply</a>
                        </div>
                    </div>
                </div>`;
            commentsListContainer.insertAdjacentHTML('beforeend', newCommentHTML);
            commentTextarea.value = '';
            commentCountSpan.textContent = parseInt(commentCountSpan.textContent) + 1;
        });
    });
    </script>
</body>
</html>