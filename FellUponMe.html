<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Fell Upon Me (All Episodes) - DramaKan</title>
    <link rel="icon" type="image/png" href="favicon.png" sizes="48x48">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="22">
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">Select an Episode</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Full Episode List</h2>
                    <div class="episodes-list" id="episodes-list-container">
                    </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Download Links</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/ABejDX_3s.jpg" alt="Huang Jun Jie">
                                <div class="cast-info"><h4 class="actor-name">Huang Jun Jie</h4><p class="character-name">Jiang Ling</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/mO2wmm_3s.jpg" alt="Yin Rui">
                                <div class="cast-info"><h4 class="actor-name">Yin Rui</h4><p class="character-name">An Zhen Zhen</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/x4y6n3_5m.jpg" alt="Dong Hao">
                                <div class="cast-info"><h4 class="actor-name">Dong Hao</h4><p class="character-name">Gu Ming</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src="https://i.mydramalist.com/oQR2ZO_4f.jpg" alt="Fell Upon Me Poster"></div>
                    <h2 class="info-title">Fell Upon Me (你的降临)</h2>
                    <p class="info-synopsis truncated" id="synopsis-text">In 2012, a high school student named An Zhen Zhen finds her phone mysteriously connected to the 2024 version of her classmate, Jiang Ling. Guided by this "Old Jiang," she attempts to alter the future to prevent a series of looming tragedies. As their fates intertwine across two timelines, they must uncover the truth behind family crises and false accusations to rewrite a cold prophecy.</p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> C-Drama</p><p><span>Studio:</span> iQIYI</p><p><span>Episodes:</span> 22</p><p><span>Status:</span> Finished</p><p><span>Score:</span> 9.0/10</p><p><span>Genres:</span> Mystery, Sci-Fi, Youth, Romance</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

 <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Complete constant episode data for the 22-episode run
        const episodeData = [
            { id: 1, title: 'Episode 1', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=1' },
            { id: 2, title: 'Episode 2', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=2' },
            { id: 3, title: 'Episode 3', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=3' },
            { id: 4, title: 'Episode 4', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=4' },
            { id: 5, title: 'Episode 5', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=5' },
            { id: 6, title: 'Episode 6', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=6' },
            { id: 7, title: 'Episode 7', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=7' },
            { id: 8, title: 'Episode 8', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=8' },
            { id: 9, title: 'Episode 9', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=9' },
            { id: 10, title: 'Episode 10', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=10' },
            { id: 11, title: 'Episode 11', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=11' },
            { id: 12, title: 'Episode 12', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=12' },
            { id: 13, title: 'Episode 13', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=13' },
            { id: 14, title: 'Episode 14', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=14' },
            { id: 15, title: 'Episode 15', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=15' },
            { id: 16, title: 'Episode 16', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=16' },
            { id: 17, title: 'Episode 17', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=17' },
            { id: 18, title: 'Episode 18', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=18' },
            { id: 19, title: 'Episode 19', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=19' },
            { id: 20, title: 'Episode 20', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=20' },
            { id: 21, title: 'Episode 21', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=21' },
            { id: 22, title: 'Grand Finale', url: 'https://multiembed.mov/?video_id=278870&tmdb=1&s=1&e=22' }
        ];
        
        let currentIndex = 0;
        const totalEpisodes = 22;

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(index) {
            currentIndex = index;
            const episode = episodeData[currentIndex];
            videoPlayer.src = episode.url;
            currentEpisodeTitle.textContent = `You are watching ${episode.title}`;
            
            document.querySelectorAll('.episode-item').forEach((item, idx) => {
                item.classList.toggle('current', idx === currentIndex);
            });
            
            downloadLinksTbody.innerHTML = `
                <tr>
                    <td data-label="Episode">Episode ${currentIndex + 1}</td>
                    <td data-label="Quality">1080p</td>
                    <td data-label="Video"><a href="#" class="download-btn"><i class="fas fa-download"></i> Download</a></td>
                    <td data-label="Subtitles"><a href="#" class="download-btn"><i class="fas fa-closed-captioning"></i> Download</a></td>
                </tr>`;

            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === totalEpisodes - 1;
        }

        function generateEpisodeList() {
            episodeData.forEach((ep, index) => {
                episodeListContainer.innerHTML += `
                    <a class="episode-item" data-index="${index}">
                        <div class="ep-info">
                            <p class="ep-number">EP ${index + 1}</p>
                            <p class="ep-desc">${ep.title}</p>
                        </div>
                    </a>`;
            });
        }
        
        episodeListContainer.addEventListener('click', (e) => {
            const item = e.target.closest('.episode-item');
            if (item) updateUI(parseInt(item.dataset.index));
        });

        prevBtn.addEventListener('click', () => { if (currentIndex > 0) updateUI(currentIndex - 1); });
        nextBtn.addEventListener('click', () => { if (currentIndex < totalEpisodes - 1) updateUI(currentIndex + 1); });

        generateEpisodeList();
        updateUI(0);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) {
            readMoreBtn.addEventListener('click', (e) => {
                e.preventDefault();
                synopsisText.classList.toggle('truncated');
                readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less';
            });
        }
    });
    </script>
</body>
</html>