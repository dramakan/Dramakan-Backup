<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Everyone Loves Me (C-Drama) - DramaKan</title>
    <link rel="icon" type="image/png" href="favicon.png" sizes="48x48">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="24">
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">Select an Episode</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Full Episode List</h2>
                    <div class="episodes-list" id="episodes-list-container">
                    </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Download Links</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/JB2rXJ_5s.jpg" alt="Lin Yi">
                                <div class="cast-info"><h4 class="actor-name">Lin Yi</h4><p class="character-name">Gu Xun</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/73Emqy_5s.jpg" alt="Zhou Ye">
                                <div class="cast-info"><h4 class="actor-name">Zhou Ye</h4><p class="character-name">Yue Qian Ling</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/jzlxJ_5s.jpg" alt="Tang Mengjia">
                                <div class="cast-info"><h4 class="actor-name">Tang Mengjia</h4><p class="character-name">Chen Xin Yi</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="widget comments-widget">
                     <div class="comments-header">
                        <h2 class="widget-title">Comments (<span id="comment-count">1</span>)</h2>
                     </div>
                     <form class="comment-form" id="comment-form">
                        <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="Guest Avatar">
                        <textarea placeholder="Join the discussion..." required></textarea>
                        <button type="submit" aria-label="Post Comment"><i class="fas fa-paper-plane"></i></button>
                     </form>
                     <div class="comments-list" id="comments-list-container">
                        <div class="comment">
                            <img class="user-avatar" src="https://i.mydramalist.com/jQVd3z_3m.jpg" alt="User Avatar">
                            <div class="comment-content">
                                <p class="comment-author">GamingRomance <span>- just now</span></p>
                                <p class="comment-text">The "Dough Twist" identity reveal was so satisfying! Lin Yi's "reverse pursuit" journey is hilarious and heartwarming.</p>
                                <div class="comment-actions">
                                    <a href="#"><i class="fas fa-thumbs-up"></i> 12</a>
                                    <a href="#"><i class="fas fa-reply"></i> Reply</a>
                                </div>
                            </div>
                        </div>
                     </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src="https://m.media-amazon.com/images/M/MV5BNzJhMjEyYWUtZjAwOS00N2EyLWI1YmYtNDQ2ODBkMmJkNzYwXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="Everyone Loves Me Poster"></div>
                    <h2 class="info-title">Everyone Loves Me (别对我动心)</h2>
                    <p class="info-synopsis truncated" id="synopsis-text">Yue Qian Ling (Zhou Ye) has long had a secret crush on the academic genius Gu Xun (Lin Yi). When she finally confesses her feelings before graduation, she is harshly rejected by him. Devastated, she vents her frustration in the gaming world as "Sticky Dough Twist," unaware that her teammate is actually Gu Xun. Gu Xun, who has long fallen for his fearless online friend, eventually discovers the truth and must embark on a humorous "reverse pursuit" to win back the girl he rejected in real life.</p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> C-Drama</p><p><span>Studio:</span> YOUKU / WeTV</p><p><span>Episodes:</span> 24</p><p><span>Status:</span> Finished</p><p><span>Score:</span> 9.2/10</p><p><span>Genres:</span> Romance, Comedy, Youth, eSports</p>
                    </div>
                </div>

                <div class="widget recommendations-widget">
                    <h2 class="widget-title">You Might Also Like</h2>
                    <div class="recommendations-list">
                        <a href="ADreamWithinaDream.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BMjRjZGM0NjMtNjBlZS00MTA2LWI5ZGUtMzIyMzBiMzdjMWU5XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="A Dream Within a Dream">
                            <div class="rec-card-info"><p class="rec-title">A Dream Within a Dream</p><p class="rec-meta">K-Drama • Trending</p></div>
                        </a>
                        <a href="YouAreMyLoverFriend.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BY2UxNzM4M2MtMzM4MS00YmY4LTk2NTMtMDNmMDg1OGU4YTUxXkEyXkFqcGc@._V1_.jpg" alt="You Are My Lover Friend">
                            <div class="rec-card-info"><p class="rec-title">You Are My Lover Friend</p><p class="rec-meta">C-Drama • Trending</p></div>
                        </a>
                        <a href="TwelveLetters.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BYzAyNGFmZDItMTYyZC00ZGFjLWIwOTItYmQwYTRmNGFkODVlXkEyXkFqcGc@._V1_.jpg" alt="Twelve Letters">
                            <div class="rec-card-info"><p class="rec-title">Twelve Letters</p><p class="rec-meta">C-Drama • Trending</p></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

 <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Complete constant episode data for all 24 episodes
        const episodeData = [
            { id: 1, e: 1, title: 'Fateful Encounter', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=1' },
            { id: 2, e: 2, title: 'Partnership Established', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=2' },
            { id: 3, e: 3, title: 'A Good Start', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=3' },
            { id: 4, e: 4, title: 'Suspicion', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=4' },
            { id: 5, e: 5, title: 'Refused Again', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=5' },
            { id: 6, e: 6, title: 'He Has a Girlfriend?', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=6' },
            { id: 7, e: 7, title: 'Farewell to the Obsessed Self', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=7' },
            { id: 8, e: 8, title: 'Solving the Risk', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=8' },
            { id: 9, e: 9, title: 'Childhood Friend', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=9' },
            { id: 10, e: 10, title: 'Adapt to the Environment', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=10' },
            { id: 11, e: 11, title: 'Apologize', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=11' },
            { id: 12, e: 12, title: 'Fight For the Girl I Love', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=12' },
            { id: 13, e: 13, title: 'Love at First Sight', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=13' },
            { id: 14, e: 14, title: 'Dilemma', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=14' },
            { id: 15, e: 15, title: 'I\'m Her Boyfriend', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=15' },
            { id: 16, e: 16, title: 'A Night Together', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=16' },
            { id: 17, e: 17, title: 'Reconcile', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=17' },
            { id: 18, e: 18, title: 'Delayed Confession', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=18' },
            { id: 19, e: 19, title: 'Miscommunication', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=19' },
            { id: 20, e: 20, title: 'Secret Couple', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=20' },
            { id: 21, e: 21, title: 'Runaway', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=21' },
            { id: 22, e: 22, title: 'Hostility', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=22' },
            { id: 23, e: 23, title: 'Fighting Back', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=23' },
            { id: 24, e: 24, title: 'A Sweet Surprise (Finale)', url: 'https://multiembed.mov/?video_id=tt28131856&s=1&e=24' }
        ];
        
        let currentIndex = 0;
        const totalEpisodes = 24;

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(index) {
            currentIndex = index;
            const episode = episodeData[currentIndex];
            if (episode && episode.url) { videoPlayer.src = episode.url; }
            currentEpisodeTitle.textContent = `You are watching EP ${episode.e} - ${episode.title}`;
            
            document.querySelectorAll('.episode-item').forEach((item, idx) => {
                item.classList.toggle('current', idx === currentIndex);
            });
            
            downloadLinksTbody.innerHTML = `
                <tr>
                    <td data-label=\"Episode\">Episode ${episode.e}</td>
                    <td data-label=\"Quality\">1080p</td>
                    <td data-label=\"Video\"><a href=\"#\" class=\"download-btn\"><i class=\"fas fa-download\"></i> Download</a></td>
                    <td data-label=\"Subtitles\"><a href=\"#\" class=\"download-btn\"><i class=\"fas fa-closed-captioning\"></i> Download</a></td>
                </tr>`;

            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === totalEpisodes - 1;
        }

        function generateEpisodeList() {
            episodeData.forEach((ep, index) => {
                episodeListContainer.innerHTML += `<a class=\"episode-item\" data-index=\"${index}\"><div class=\"ep-info\"><p class=\"ep-number\">EP ${ep.e}</p><p class=\"ep-desc\">${ep.title}</p></div></a>`;
            });
        }
        
        episodeListContainer.addEventListener('click', (e) => {
            const item = e.target.closest('.episode-item');
            if (item) updateUI(parseInt(item.dataset.index));
        });

        prevBtn.addEventListener('click', () => { if (currentIndex > 0) updateUI(currentIndex - 1); });
        nextBtn.addEventListener('click', () => { if (currentIndex < totalEpisodes - 1) updateUI(currentIndex + 1); });

        generateEpisodeList();
        updateUI(0);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) {
            readMoreBtn.addEventListener('click', (e) => {
                e.preventDefault();
                synopsisText.classList.toggle('truncated');
                readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less';
            });
        }
    });
    </script>
</body>
</html>