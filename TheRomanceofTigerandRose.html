<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch The Romance of Tiger and Rose (C-Drama) - DramaKan</title>
    <link rel="icon" type="image/png" href="favicon.png" sizes="48x48">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="24">
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">Select an Episode</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Full Episode List</h2>
                    <div class="episodes-list" id="episodes-list-container">
                    </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Download Links</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/g0wJdd_5s.jpg" alt="Zhao Lusi">
                                <div class="cast-info"><h4 class="actor-name">Zhao Lusi</h4><p class="character-name">Chen Qian Qian</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/O8WJ7Q_5s.jpg" alt="Ding Yu Xi">
                                <div class="cast-info"><h4 class="actor-name">Ding Yu Xi</h4><p class="character-name">Han Shuo</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/pdWeKD_5s.jpg" alt="Sheng Ying Hao">
                                <div class="cast-info"><h4 class="actor-name">Sheng Ying Hao</h4><p class="character-name">Pei Heng</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="widget comments-widget">
                     <div class="comments-header">
                        <h2 class="widget-title">Comments (<span id="comment-count">1</span>)</h2>
                     </div>
                     <form class="comment-form" id="comment-form">
                        <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="Guest Avatar">
                        <textarea placeholder="Join the discussion..." required></textarea>
                        <button type="submit" aria-label="Post Comment"><i class="fas fa-paper-plane"></i></button>
                     </form>
                     <div class="comments-list" id="comments-list-container">
                        <div class="comment">
                            <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="User Avatar">
                            <div class="comment-content">
                                <p class="comment-author">ScriptWriterFan <span>- just now</span></p>
                                <p class="comment-text">The reversal of gender roles in Huayuan City is so funny! Zhao Lusi's comedic timing is legendary.</p>
                                <div class="comment-actions">
                                    <a href="#"><i class="fas fa-thumbs-up"></i> 15</a>
                                    <a href="#"><i class="fas fa-reply"></i> Reply</a>
                                </div>
                            </div>
                        </div>
                     </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src= "https://i.mydramalist.com/dZVWg_4f.jpg" alt="The Romance of Tiger and Rose Poster"></div>
                    <h2 class="info-title">The Romance of Tiger and Rose (传闻中的陈芊芊)</h2>
                    <p class="info-synopsis truncated" id="synopsis-text">Screenwriter Chen Xiao Qian (Zhao Lusi) finds herself trapped inside her own script as the third princess, Chen Qian Qian—a minor character destined to die in the third episode. Using her knowledge of the plot, she must navigate the conflict between the matriarchal Huayuan City and the patriarchal Xuanhu City to survive. Along the way, she accidentally wins the heart of the original villain, Prince Han Shuo (Ding Yu Xi), and completely rewrites the story's destiny.</p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> C-Drama</p><p><span>Studio:</span> Tencent Video</p><p><span>Episodes:</span> 24</p><p><span>Status:</span> Finished</p><p><span>Score:</span> 9.5/10</p><p><span>Genres:</span> Historical, Romance, Fantasy, Comedy</p>
                    </div>
                </div>

                <div class="widget recommendations-widget">
                    <h2 class="widget-title">You Might Also Like</h2>
                    <div class="recommendations-list">
                        <a href="ADreamWithinaDream.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BMjRjZGM0NjMtNjBlZS00MTA2LWI5ZGUtMzIyMzBiMzdjMWU5XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="A Dream Within a Dream">
                            <div class="rec-card-info"><p class="rec-title">A Dream Within a Dream</p><p class="rec-meta">K-Drama • Script Transmigration</p></div>
                        </a>
                        <a href="ToShipSomeone.html" class="rec-card">
                            <img src="https://i.mydramalist.com/qYQXAB_4f.jpg" alt="To Ship Someone">
                            <div class="rec-card-info"><p class="rec-title">To Ship Someone</p><p class="rec-meta">C-Drama • Fantasy Romance</p></div>
                        </a>
                        <a href="LoveAmbition.html" class="rec-card">
                            <img src="https://vcover-vt-pic.wetvinfo.com/vcover_vt_pic/0/hiw723xwp01jtp01758854547398/0" alt="Love's Ambition">
                            <div class="rec-card-info"><p class="rec-title">Love's Ambition</p><p class="rec-meta">C-Drama • Zhao Lusi Lead</p></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

 <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Complete constant episode data for all 24 episodes
        const episodeData = [
            { id: 1, e: 1, title: 'Inside the Script', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=1' },
            { id: 2, e: 2, title: 'Avoiding Death', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=2' },
            { id: 3, e: 3, title: 'Capturing Han Shuo', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=3' },
            { id: 4, e: 4, title: 'Gender Role Reversal', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=4' },
            { id: 5, e: 5, title: 'A Risky Gamble', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=5' },
            { id: 6, e: 6, title: 'Huayuan City Trials', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=6' },
            { id: 7, e: 7, title: 'Han Shuo’s Change of Heart', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=7' },
            { id: 8, e: 8, title: 'The Wedding Scheme', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=8' },
            { id: 9, e: 9, title: 'Secret Alliances', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=9' },
            { id: 10, e: 10, title: 'Protecting the Prince', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=10' },
            { id: 11, e: 11, title: 'The Banished Princess', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=11' },
            { id: 12, e: 12, title: 'Jealousy and Schemes', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=12' },
            { id: 13, e: 13, title: 'Truth Revealed', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=13' },
            { id: 14, e: 14, title: 'Reclaiming Power', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=14' },
            { id: 15, e: 15, title: 'Han Shuo’s Sacrifice', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=15' },
            { id: 16, e: 16, title: 'The Battle for Two Cities', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=16' },
            { id: 17, e: 17, title: 'A New Villain Rises', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=17' },
            { id: 18, e: 18, title: 'Love Against the Script', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=18' },
            { id: 19, e: 19, title: 'Shattered Crowns', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=19' },
            { id: 20, e: 20, title: 'The Final Rewrite', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=20' },
            { id: 21, e: 21, title: 'Between Reality and Fiction', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=21' },
            { id: 22, e: 22, title: 'City of Love', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=22' },
            { id: 23, e: 23, title: 'Heartfelt Promise', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=23' },
            { id: 24, e: 24, title: 'Destiny Fulfilled (Finale)', url: 'https://multiembed.mov/?video_id=tt12299432&s=1&e=24' }
        ];
        
        let currentIndex = 0;
        const totalEpisodes = 24;

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(index) {
            currentIndex = index;
            const episode = episodeData[currentIndex];
            if (episode && episode.url) { videoPlayer.src = episode.url; }
            currentEpisodeTitle.textContent = `You are watching EP ${episode.e} - ${episode.title}`;
            
            document.querySelectorAll('.episode-item').forEach((item, idx) => {
                item.classList.toggle('current', idx === currentIndex);
            });
            
            downloadLinksTbody.innerHTML = `
                <tr>
                    <td data-label=\"Episode\">Episode ${episode.e}</td>
                    <td data-label=\"Quality\">1080p</td>
                    <td data-label=\"Video\"><a href=\"#\" class=\"download-btn\"><i class=\"fas fa-download\"></i> Download</a></td>
                    <td data-label=\"Subtitles\"><a href=\"#\" class=\"download-btn\"><i class=\"fas fa-closed-captioning\"></i> Download</a></td>
                </tr>`;

            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === totalEpisodes - 1;
        }

        function generateEpisodeList() {
            episodeData.forEach((ep, index) => {
                episodeListContainer.innerHTML += `<a class=\"episode-item\" data-index=\"${index}\"><div class=\"ep-info\"><p class=\"ep-number\">EP ${ep.e}</p><p class=\"ep-desc\">${ep.title}</p></div></a>`;
            });
        }
        
        episodeListContainer.addEventListener('click', (e) => {
            const item = e.target.closest('.episode-item');
            if (item) updateUI(parseInt(item.dataset.index));
        });

        prevBtn.addEventListener('click', () => { if (currentIndex > 0) updateUI(currentIndex - 1); });
        nextBtn.addEventListener('click', () => { if (currentIndex < totalEpisodes - 1) updateUI(currentIndex + 1); });

        generateEpisodeList();
        updateUI(0);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) {
            readMoreBtn.addEventListener('click', (e) => {
                e.preventDefault();
                synopsisText.classList.toggle('truncated');
                readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less';
            });
        }
    });
    </script>
</body>
</html>