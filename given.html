<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Given (J-Drama) - DramaKan</title>
    <link rel="icon" type="image/png" href="favicon.png" sizes="48x48">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">

 
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="6">
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">You are watching Episode 1</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Episodes</h2>
                    <div class="episodes-list" id="episodes-list-container">
                        </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Downloads</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                                </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/3obr7e_5s.jpg" alt="Jin Suzuki Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Jin Suzuki</h4><p class="character-name">Ritsuka Uenoyama</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/weWJg_5s.jpg" alt="Kai Inowaki Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Kai Inowaki</h4><p class="character-name">Mafuyu Sato</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/p1kZy_5s.jpg" alt="Shogo Yano Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Shogo Yano</h4><p class="character-name">Haruki Nakayama</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/XE55g_5s.jpg" alt="Masatomo Nakazawa Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Masatomo Nakazawa</h4><p class="character-name">Akihiko Kaji</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/nOZAdL_5s.jpg" alt="Hiroki Iijima Placeholder">
                                <div class="cast-info"><h4 class="actor-name">Hiroki Iijima</h4><p class="character-name">Yuki Yoshida</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="widget comments-widget">
                     <div class="comments-header">
                        <h2 class="widget-title">Comments (<span id="comment-count">1</span>)</h2>
                     </div>
                     <form class="comment-form" id="comment-form">
                        <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="Guest Avatar">
                        <textarea placeholder="Join the discussion..." required></textarea>
                        <button type="submit" aria-label="Post Comment"><i class="fas fa-paper-plane"></i></button>
                     </form>
                     <div class="comments-list" id="comments-list-container">
                        <div class="comment">
                            <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="User Avatar">
                            <div class="comment-content">
                                <p class="comment-author">MusicLover <span>- 2 days ago</span></p>
                                <p class="comment-text">The emotions in this series hit hard! The live-action captures the manga's feel perfectly.</p>
                                <div class="comment-actions">
                                    <a href="#"><i class="fas fa-thumbs-up"></i> 0</a>
                                    <a href="#"><i class="fas fa-reply"></i> Reply</a>
                                </div>
                            </div>
                        </div>
                     </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src="https://i.mydramalist.com/Xk2Rn_4f.jpg" alt="Given J-Drama Poster"></div>
                    <h2 class="info-title">Given (J-Drama)</h2>
                    <p class="info-synopsis truncated" id="synopsis-text">Based on the popular manga, 'Given' follows Ritsuka Uenoyama, a high school student who is losing interest in the music he once loved. His life changes when he meets Mafuyu Sato, a quiet boy holding a broken guitar. After hearing Mafuyu sing, Ritsuka is deeply moved and invites him to join his band. The series chronicles the painful journey of the band members—Ritsuka, Mafuyu, Haruki, and Akihiko—as they deal with past traumas, complex relationships, and the powerful role music plays in their lives. This live-action adaptation explores themes of grief, love, and self-discovery within the indie rock music scene.</p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> J-Drama (BL)</p><p><span>Studio:</span> Fuji TV</p><p><span>Aired:</span> Jul 17, 2021</p><p><span>Status:</span> Finished</p><p><span>Score:</span> 8.8/10</p><p><span>Duration:</span> 25m</p><p><span>Genres:</span> Romance, Music, School, BL</p>
                    </div>
                </div>
                <div class="widget recommendations-widget">
                    <h2 class="widget-title">You Might Also Like</h2>
                    <div class="recommendations-list">
                        <a href="semanticerror.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BNzhmMDMwNmQtZWFjYy00YWQ3LTk3ZTUtNmVmMDA0ZmU0MWY5XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="Semantic Error">
                            <div class="rec-card-info"><p class="rec-title">Semantic Error</p><p class="rec-meta">K-Drama • Finished</p></div>
                        </a>
                        <a href="lightonme.html" class="rec-card">
                            <img src="https://i.mydramalist.com/XJWdX_4f.jpg" alt="Light On Me">
                            <div class="rec-card-info"><p class="rec-title">Light On Me</p><p class="rec-meta">K-Drama • Finished</p></div>
                        </a>
                        <a href="tomystar.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BNzhmMDMwNmQtZWFjYy00YWQ3LTk3ZTUtNmVmMDA0ZmU0MWY5XkEyXkFqcGc@._V1_.jpg" alt="To My Star">
                            <div class="rec-card-info"><p class="rec-title">To My Star</p><p class="rec-meta">K-Drama • Finished</p></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
       
        // --- DRAMA PAGE FUNCTIONALITY ---

        // Episode data for "Given" (J-Drama) - 6 episodes
        const episodeData = [
            { number: 1, title: 'The Broken Guitar', videoUrl: 'https://multiembed.mov/?video_id=126409&tmdb=1&s=1&e=1', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 2, title: 'Starting the Band', videoUrl: 'https://multiembed.mov/?video_id=126409&tmdb=1&s=1&e=2', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 3, title: 'Episode 3', videoUrl: 'https://multiembed.mov/?video_id=126409&tmdb=1&s=1&e=3', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 4, title: 'Episode 4', videoUrl: 'https://multiembed.mov/?video_id=126409&tmdb=1&s=1&e=4', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 5, title: 'Episode 5', videoUrl: 'https://multiembed.mov/?video_id=126409&tmdb=1&s=1&e=5', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] },
            { number: 6, title: 'The First Live (Finale)', videoUrl: 'https://multiembed.mov/?video_id=126409&tmdb=1&s=1&e=6', subtitleUrl: '#', downloadLinks: [{ quality: '1080p', url: '#' }] }
        ];
        
        let currentEpisode = 1;
        const totalEpisodes = 6;

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(episodeNumber) {
            currentEpisode = parseInt(episodeNumber, 10);
            const episode = episodeData.find(ep => ep.number === currentEpisode);
            if (episode && episode.videoUrl) { videoPlayer.src = episode.videoUrl; }
            currentEpisodeTitle.textContent = `You are watching Episode ${currentEpisode}`;
            document.querySelectorAll('.episode-item').forEach(item => { item.classList.toggle('current', parseInt(item.dataset.episode, 10) === currentEpisode); });
            document.querySelector(`.episode-item[data-episode='${currentEpisode}']`)?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            downloadLinksTbody.innerHTML = '';
            if (episode && episode.downloadLinks) {
                episode.downloadLinks.forEach(link => {
                    downloadLinksTbody.innerHTML += `
                        <tr>
                            <td data-label="Episode">Episode ${currentEpisode}</td>
                            <td data-label="Quality">${link.quality}</td>
                            <td data-label="Video"><a href="${link.url}" class="download-btn" target="_blank" rel="noopener noreferrer"><i class="fas fa-download"></i> Download</a></td>
                            <td data-label="Subtitles"><a href="${episode.subtitleUrl}" class="download-btn" target="_blank" rel="noopener noreferrer"><i class="fas fa-closed-captioning"></i> Download</a></td>
                        </tr>`;
                });
            }
            prevBtn.disabled = currentEpisode === 1;
            nextBtn.disabled = currentEpisode === totalEpisodes;
        }

        function generateEpisodeList() {
            for (let i = 1; i <= totalEpisodes; i++) {
                const episode = episodeData.find(ep => ep.number === i) || { number: i, title: `Episode ${i}` };
                episodeListContainer.innerHTML += `<a class="episode-item" data-episode="${episode.number}"><div class="ep-info"><p class="ep-number">Episode ${episode.number}</p><p class="ep-desc">${episode.title}</p></div></a>`;
            }
        }
        
        episodeListContainer.addEventListener('click', (e) => { const item = e.target.closest('.episode-item'); if (item) updateUI(item.dataset.episode); });
        prevBtn.addEventListener('click', () => { if (currentEpisode > 1) updateUI(currentEpisode - 1); });
        nextBtn.addEventListener('click', () => { if (currentEpisode < totalEpisodes) updateUI(currentEpisode + 1); });
        generateEpisodeList();
        updateUI(1);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) { readMoreBtn.addEventListener('click', (e) => { e.preventDefault(); synopsisText.classList.toggle('truncated'); readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less'; }); }

        const commentForm = document.getElementById('comment-form');
        const commentTextarea = commentForm.querySelector('textarea');
        const commentsListContainer = document.getElementById('comments-list-container');
        const commentCountSpan = document.getElementById('comment-count');
        // Placeholder Avatars - using a generic placeholder tag for consistency
        const customAvatars = [ '', '', '', '', '' ];

        commentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const commentText = commentTextarea.value.trim();
            if (commentText === '') { return; }
            const randomAvatar = customAvatars[Math.floor(Math.random() * customAvatars.length)];
            const sanitizedText = commentText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            const newCommentHTML = `
                <div class="comment">
                    <img class="user-avatar" src="${randomAvatar}" alt="User Avatar">
                    <div class="comment-content">
                        <p class="comment-author">Guest <span>- just now</span></p>
                        <p class="comment-text">${sanitizedText}</p>
                        <div class="comment-actions">
                            <a href="#"><i class="fas fa-thumbs-up"></i> 0</a>
                            <a href="#"><i class="fas fa-reply"></i> Reply</a>
                        </div>
                    </div>
                </div>`;
            commentsListContainer.insertAdjacentHTML('beforeend', newCommentHTML);
            commentTextarea.value = '';
            commentCountSpan.textContent = parseInt(commentCountSpan.textContent) + 1;
        });
    });
    
    </script>
</body>
</html>