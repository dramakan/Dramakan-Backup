<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch The White Olive Tree (C-Drama) - DramaKan</title>
    <link rel="icon" type="image/png" href="favicon.png" sizes="48x48">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="38">
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">Select an Episode</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Full Episode List</h2>
                    <div class="episodes-list" id="episodes-list-container">
                    </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Download Links</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/b3RoZL_5s.jpg" alt="Chen Zheyuan">
                                <div class="cast-info"><h4 class="actor-name">Chen Zheyuan</h4><p class="character-name">Li Zan</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/rNVbKD_5s.jpg" alt="Liang Jie">
                                <div class="cast-info"><h4 class="actor-name">Liang Jie</h4><p class="character-name">Song Ran</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://i.mydramalist.com/qYQPy8_5s.jpg" alt="Wang Tianchen">
                                <div class="cast-info"><h4 class="actor-name">Wang Tianchen</h4><p class="character-name">Benjamin</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="widget comments-widget">
                     <div class="comments-header">
                        <h2 class="widget-title">Comments (<span id="comment-count">1</span>)</h2>
                     </div>
                     <form class="comment-form" id="comment-form">
                        <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="Guest Avatar">
                        <textarea placeholder="Join the discussion..." required></textarea>
                        <button type="submit" aria-label="Post Comment"><i class="fas fa-paper-plane"></i></button>
                     </form>
                     <div class="comments-list" id="comments-list-container">
                        <div class="comment">
                            <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="User Avatar">
                            <div class="comment-content">
                                <p class="comment-author">DramaLover <span>- just now</span></p>
                                <p class="comment-text">Chen Zheyuan and Liang Jie have such raw emotional depth in this. The depiction of trauma is intense but beautifully handled.</p>
                                <div class="comment-actions">
                                    <a href="#"><i class="fas fa-thumbs-up"></i> 15</a>
                                    <a href="#"><i class="fas fa-reply"></i> Reply</a>
                                </div>
                            </div>
                        </div>
                     </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src="https://i.mydramalist.com/oQ0rBE_4f.jpg" alt="The White Olive Tree Poster"></div>
                    <h2 class="info-title">The White Olive Tree (白色橄榄树)</h2>
                    <p class="info-synopsis truncated" id="synopsis-text">During a mission in the turbulent East Country, Liang City TV reporter Song Ran (Liang Jie) is rescued from danger by Li Zan (Chen Zheyuan), a Chinese explosives engineer. Their shared experience in the war zone leads to a deep bond, but they are separated by tragedy. Returning home, both face significant psychological trauma and life turbulence. When they eventually reunite at a low point in their lives, they must work to heal each other and find hope once again. The drama is adapted from the novel of the same name by Jiu Yue Xi.</p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> C-Drama</p><p><span>Studio:</span> iQIYI</p><p><span>Episodes:</span> 38</p><p><span>Status:</span> Finished</p><p><span>Score:</span> 9.5/10</p><p><span>Genres:</span> Romance, Action, Melodrama, War</p>
                    </div>
                </div>

                <div class="widget recommendations-widget">
                    <h2 class="widget-title">You Might Also Like</h2>
                    <div class="recommendations-list">
                        <a href="LoveAmbition.html" class="rec-card">
                            <img src="https://vcover-vt-pic.wetvinfo.com/vcover_vt_pic/0/hiw723xwp01jtp01758854547398/0" alt="Love's Ambition">
                            <div class="rec-card-info"><p class="rec-title">Love's Ambition</p><p class="rec-meta">C-Drama • Trending</p></div>
                        </a>
                        <a href="TwelveLetters.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BYzAyNGFmZDItMTYyZC00ZGFjLWIwOTItYmQwYTRmNGFkODVlXkEyXkFqcGc@._V1_.jpg" alt="Twelve Letters">
                            <div class="rec-card-info"><p class="rec-title">Twelve Letters</p><p class="rec-meta">C-Drama • Mystery</p></div>
                        </a>
                        <a href="ADreamWithinaDream.html" class="rec-card">
                            <img src="https://m.media-amazon.com/images/M/MV5BMjRjZGM0NjMtNjBlZS00MTA2LWI5ZGUtMzIyMzBiMzdjMWU5XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="A Dream Within a Dream">
                            <div class="rec-card-info"><p class="rec-title">A Dream Within a Dream</p><p class="rec-meta">K-Drama • Fantasy</p></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

 <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Complete constant episode data for all 38 episodes
       const episodeData = [
            { id: 1, e: 1, title: 'Returning to Bei Ya', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=1' },
            { id: 2, e: 2, title: 'The Mentor and the Student', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=2' },
            { id: 3, e: 3, title: 'Complex Surgery', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=3' },
            { id: 4, e: 4, title: 'Triggered Memories', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=4' },
            { id: 5, e: 5, title: 'Mission to Africa', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=5' },
            { id: 6, e: 6, title: 'Rebuilt Trust', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=6' },
            { id: 7, e: 7, title: 'Episode 7', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=7' },
            { id: 8, e: 8, title: 'Complicated Emotions', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=8' },
            { id: 9, e: 9, title: 'Episode 9', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=9' },
            { id: 10, e: 10, title: 'Episode 10', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=10' },
            { id: 11, e: 11, title: 'Episode 11', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=11' },
            { id: 12, e: 12, title: 'Episode 12', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=12' },
            { id: 13, e: 13, title: 'Episode 13', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=13' },
            { id: 14, e: 14, title: 'Episode 14', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=14' },
            { id: 15, e: 15, title: 'Episode 15', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=15' },
            { id: 16, e: 16, title: 'Episode 16', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=16' },
            { id: 17, e: 17, title: 'Episode 17', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=17' },
            { id: 18, e: 18, title: 'Episode 18', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=18' },
            { id: 19, e: 19, title: 'Episode 19', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=19' },
            { id: 20, e: 20, title: 'Episode 20', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=20' },
            { id: 21, e: 21, title: 'Episode 21', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=21' },
            { id: 22, e: 22, title: 'Episode 22', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=22' },
            { id: 23, e: 23, title: 'Episode 23', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=23' },
            { id: 24, e: 24, title: 'Episode 24', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=24' },
            { id: 25, e: 25, title: 'Episode 25', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=25' },
            { id: 26, e: 26, title: 'Episode 26', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=26' },
            { id: 27, e: 27, title: 'Episode 27', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=27' },
            { id: 28, e: 28, title: 'Episode 28', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=28' },
            { id: 29, e: 29, title: 'Episode 29', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=29' },
            { id: 30, e: 30, title: 'Episode 30', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=30' },
            { id: 31, e: 31, title: 'Episode 31', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=31' },
            { id: 32, e: 32, title: 'Episode 32', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=32' },
            { id: 33, e: 33, title: 'Episode 33', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=33' },
            { id: 34, e: 34, title: 'Episode 34', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=34' },
            { id: 35, e: 35, title: 'Episode 35', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=35' },
            { id: 36, e: 36, title: 'Love Heals (Finale)', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=36' },
            { id: 37, e: 37, title: 'Episode 37', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=37' },
            { id: 38, e: 38, title: 'Episode 38', url: 'https://multiembed.mov/?video_id=tt31450820&s=1&e=38' }
        ];
        
        let currentEpisode = 1;
        const totalEpisodes = 38;

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(episodeNumber) {
            currentEpisode = parseInt(episodeNumber, 10);
            const episode = episodeData.find(ep => ep.number === currentEpisode);
            if (episode && episode.videoUrl) { videoPlayer.src = episode.videoUrl; }
            currentEpisodeTitle.textContent = `You are watching Episode ${currentEpisode}`;
            document.querySelectorAll('.episode-item').forEach(item => { item.classList.toggle('current', parseInt(item.dataset.episode, 10) === currentEpisode); });
            document.querySelector(`.episode-item[data-episode='${currentEpisode}']`)?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            downloadLinksTbody.innerHTML = '';
            if (episode && episode.downloadLinks) {
                episode.downloadLinks.forEach(link => {
                    downloadLinksTbody.innerHTML += `
                        <tr>
                            <td data-label="Episode">Episode ${currentEpisode}</td>
                            <td data-label="Quality">${link.quality}</td>
                            <td data-label="Video"><a href="${link.url}" class="download-btn" target="_blank" rel="noopener noreferrer"><i class="fas fa-download"></i> Download</a></td>
                            <td data-label="Subtitles"><a href="${episode.subtitleUrl}" class="download-btn" target="_blank" rel="noopener noreferrer"><i class="fas fa-closed-captioning"></i> Download</a></td>
                        </tr>`;
                });
            }
            prevBtn.disabled = currentEpisode === 1;
            nextBtn.disabled = currentEpisode === totalEpisodes;
        }

        function generateEpisodeList() {
            for (let i = 1; i <= totalEpisodes; i++) {
                const episode = episodeData.find(ep => ep.number === i) || { number: i, title: `Episode ${i}` };
                episodeListContainer.innerHTML += `<a class="episode-item" data-episode="${episode.number}"><div class="ep-info"><p class="ep-number">Episode ${episode.number}</p><p class="ep-desc">${episode.title}</p></div></a>`;
            }
        }
        
        episodeListContainer.addEventListener('click', (e) => { const item = e.target.closest('.episode-item'); if (item) updateUI(item.dataset.episode); });
        prevBtn.addEventListener('click', () => { if (currentEpisode > 1) updateUI(currentEpisode - 1); });
        nextBtn.addEventListener('click', () => { if (currentEpisode < totalEpisodes) updateUI(currentEpisode + 1); });
        generateEpisodeList();
        updateUI(1);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) { readMoreBtn.addEventListener('click', (e) => { e.preventDefault(); synopsisText.classList.toggle('truncated'); readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less'; }); }

        const commentForm = document.getElementById('comment-form');
        const commentTextarea = commentForm.querySelector('textarea');
        const commentsListContainer = document.getElementById('comments-list-container');
        const commentCountSpan = document.getElementById('comment-count');
        const customAvatars = [ 'https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png', 'https://i.pravatar.cc/40?u=userB', 'https://i.pravatar.cc/40?u=userC', 'https://i.pravatar.cc/40?u=userD', 'https://i.pravatar.cc/40?u=userE' ];

        commentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const commentText = commentTextarea.value.trim();
            if (commentText === '') { return; }
            const randomAvatar = customAvatars[Math.floor(Math.random() * customAvatars.length)];
            const sanitizedText = commentText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            const newCommentHTML = `
                <div class="comment">
                    <img class="user-avatar" src="${randomAvatar}" alt="User Avatar">
                    <div class="comment-content">
                        <p class="comment-author">Guest <span>- just now</span></p>
                        <p class="comment-text">${sanitizedText}</p>
                        <div class="comment-actions">
                            <a href="#"><i class="fas fa-thumbs-up"></i> 0</a>
                            <a href="#"><i class="fas fa-reply"></i> Reply</a>
                        </div>
                    </div>
                </div>`;
            commentsListContainer.insertAdjacentHTML('beforeend', newCommentHTML);
            commentTextarea.value = '';
            commentCountSpan.textContent = parseInt(commentCountSpan.textContent) + 1;
        });
    });
</script>

</body>
</html>