<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch A Dream Within a Dream (All Episodes) - DramaKan</title>
    <link rel="icon" type="image/png" href="favicon.png" sizes="48x48">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <a href="index.html" class="logo">Drama<span>Kan</span></a>
    </header>

    <main class="container">
        <div class="watch-layout" data-total-episodes="40">
            <div class="main-content-col">
                <div class="video-player-container">
                    <iframe 
                        id="video-player-iframe"
                        src="" 
                        title="Video Player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="episode-meta">
                    <h1 class="episode-title" id="current-episode-title">Select an Episode</h1>
                    <div class="episode-actions">
                        <button class="action-btn" id="prev-ep-btn"><i class="fas fa-arrow-left"></i>Prev</button>
                        <button class="action-btn" id="next-ep-btn">Next<i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="widget episodes-list-widget">
                    <h2 class="widget-title">Full Episode List</h2>
                    <div class="episodes-list" id="episodes-list-container">
                    </div>
                </div>
                
                <div class="widget download-widget">
                    <h2 class="widget-title">Download Links</h2>
                    <div class="download-list">
                        <table>
                            <thead>
                                <tr><th>Episode</th><th>Quality</th><th>Video</th><th>Subtitles</th></tr>
                            </thead>
                            <tbody id="download-links-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="widget cast-section">
                    <h2 class="widget-title">Cast</h2>
                    <div class="cast-list-wrapper">
                        <div class="cast-list">
                            <div class="cast-card">
                                <img src="https://m.media-amazon.com/images/M/MV5BZDcwZjhjNWUtY2M2NC00YzU3LWI0MzAtNjk5OTZkMGVlZmFhXkEyXkFqcGc@._V1_.jpg" alt="Li Yitong">
                                <div class="cast-info"><h4 class="actor-name">Li Yitong</h4><p class="character-name">Song Xiaoyu / Song Yimeng</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://preview.redd.it/a-dream-within-a-dream-%E4%B9%A6%E5%8D%B7%E4%B8%80%E6%A2%A6-from-iqiyi-airing-today-june-26-v0-ayacwmjsj69f1.jpg?width=640&crop=smart&auto=webp&s=40ad13ee25868d308263f451e16bfb55de9be6c6" alt="Liu Yuning">
                                <div class="cast-info"><h4 class="actor-name">Liu Yuning</h4><p class="character-name">Nan Heng</p></div>
                            </div>
                            <div class="cast-card">
                                <img src="https://media.zenfs.com/en/ybrand.cinema.com.my/a2b8ea4c2740c63fdd9bfbf726acd0fa" alt="Zhu Xudan">
                                <div class="cast-info"><h4 class="actor-name">Zhu Xudan</h4><p class="character-name">Song Yiting</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="widget comments-widget">
                     <div class="comments-header">
                        <h2 class="widget-title">Comments (<span id="comment-count">1</span>)</h2>
                     </div>
                     <form class="comment-form" id="comment-form">
                        <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="Guest Avatar">
                        <textarea placeholder="Join the discussion..." required></textarea>
                        <button type="submit" aria-label="Post Comment"><i class="fas fa-paper-plane"></i></button>
                     </form>
                     <div class="comments-list" id="comments-list-container">
                        <div class="comment">
                            <img class="user-avatar" src="https://cdn.pixabay.com/photo/2023/02/18/11/00/icon-7797704_640.png" alt="User Avatar">
                            <div class="comment-content">
                                <p class="comment-author">ScriptReader <span>- just now</span></p>
                                <p class="comment-text">The meta-humor about the idol drama industry is pure crack! Li Yitong is hilarious as the "salted fish" trying to survive her own script.</p>
                                <div class="comment-actions">
                                    <a href="#"><i class="fas fa-thumbs-up"></i> 15</a>
                                    <a href="#"><i class="fas fa-reply"></i> Reply</a>
                                </div>
                            </div>
                        </div>
                     </div>
                </div>
            </div>

            <div class="sidebar-col">
                <div class="widget drama-info-widget">
                    <div class="info-poster"><img src="https://m.media-amazon.com/images/M/MV5BMjRjZGM0NjMtNjBlZS00MTA2LWI5ZGUtMzIyMzBiMzdjMWU5XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="A Dream Within a Dream Poster"></div>
                    <h2 class="info-title">A Dream Within a Dream (书卷一梦)</h2>
                    <p class="info-synopsis truncated" id="synopsis-text">Song Xiaoyu (Li Yitong), a modern actress/screenwriter, accidentally wakes up inside a tragic script as the female lead Song Yimeng, who is doomed to be discarded and killed by the villainous male lead Nan Heng (Liu Yuning). No matter how hard she tries to run away or alter the storyline, the "plot" always pulls her back to Nan Heng to re-enact the script's iconic scenes. In this world of predestined roles, she must navigate power struggles and Repeating cycles to break free from her established fate.</p>
                    <a id="read-more-btn" class="read-more-btn">Read More</a>
                    <div class="info-details">
                        <p><span>Type:</span> C-Drama</p><p><span>Studio:</span> iQIYI</p><p><span>Episodes:</span> 40</p><p><span>Status:</span> Finished</p><p><span>Score:</span> 9.4/10</p><p><span>Duration:</span> 45m</p><p><span>Genres:</span> Historical, Romance, Fantasy, Comedy</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 DramaKan. All rights reserved.</p>
    </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Full constant episode data for all 36 episodes
        const episodeData = [
            { id: 1, e: 1, title: 'Qingyun Tournament', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=1' },
            { id: 2, e: 2, title: 'Broken Veins', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=2' },
            { id: 3, e: 3, title: 'The Dancer’s Disguise', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=3' },
            { id: 4, e: 4, title: 'Pole Star Abyss', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=4' },
            { id: 5, e: 5, title: 'Dance of Deception', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=5' },
            { id: 6, e: 6, title: 'Unbreakable Scallion Pancake', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=6' },
            { id: 7, e: 7, title: 'Spirit Beast’s Secret', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=7' },
            { id: 8, e: 8, title: 'Hidden Motives', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=8' },
            { id: 9, e: 9, title: 'The Antidote Quest', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=9' },
            { id: 10, e: 10, title: 'Illusory Hold', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=10' },
            { id: 11, e: 11, title: 'Mutual Attraction', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=11' },
            { id: 12, e: 12, title: 'Shadows of the Abyss', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=12' },
            { id: 13, e: 13, title: 'The Marriage Stone', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=13' },
            { id: 14, e: 14, title: 'Shattered Persona', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=14' },
            { id: 15, e: 15, title: 'The Soul-Consuming Tree', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=15' },
            { id: 16, e: 16, title: 'A Risky Choice', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=16' },
            { id: 17, e: 17, title: 'Warrior’s Resolve', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=17' },
            { id: 18, e: 18, title: 'Fallen Grace', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=18' },
            { id: 19, e: 19, title: 'The Bathing Pool Confession', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=19' },
            { id: 20, e: 20, title: 'Enemies No More', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=20' },
            { id: 21, e: 21, title: 'A New Alliance', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=21' },
            { id: 22, e: 22, title: 'Wugui Sea Trial', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=22' },
            { id: 23, e: 23, title: 'Heartbound Array', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=23' },
            { id: 24, e: 24, title: 'Conspiracy Unfolds', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=24' },
            { id: 25, e: 25, title: 'The Empress’s Secret', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=25' },
            { id: 26, e: 26, title: 'Shattered Crowns', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=26' },
            { id: 27, e: 27, title: 'Price of Freedom', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=27' },
            { id: 28, e: 28, title: 'The Traveler’s Competition', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=28' },
            { id: 29, e: 29, title: 'Betrayal and Capture', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=29' },
            { id: 30, e: 30, title: 'A Warrior’s Pain', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=30' },
            { id: 31, e: 31, title: 'Netherbeast Siege', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=31' },
            { id: 32, e: 32, title: 'The Final Boss', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=32' },
            { id: 33, e: 33, title: 'Sacrifice for Love', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=33' },
            { id: 34, e: 34, title: 'Breaking the Cycle', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=34' },
            { id: 35, e: 35, title: 'Rewriting Destiny', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=35' },
            { id: 36, e: 36, title: 'Love Under the Clouds (Finale)', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=36' },
            { id: 37, e: 37, title: 'Rewriting Destiny', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=37' },
            { id: 38, e: 38, title: 'Rewriting Destiny', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=38' },
            { id: 39, e: 39, title: 'Rewriting Destiny', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=39' },
            { id: 40, e: 40, title: 'Rewriting Destiny', url: 'https://multiembed.mov/?video_id=253193&tmdb=1&s=1&e=40' }
        ];
        
        let currentIndex = 0;
        const totalEpisodes = 40;

        const episodeListContainer = document.getElementById('episodes-list-container');
        const currentEpisodeTitle = document.getElementById('current-episode-title');
        const downloadLinksTbody = document.getElementById('download-links-tbody');
        const prevBtn = document.getElementById('prev-ep-btn');
        const nextBtn = document.getElementById('next-ep-btn');
        const videoPlayer = document.getElementById('video-player-iframe');

        function updateUI(index) {
            currentIndex = index;
            const episode = episodeData[currentIndex];
            if (episode && episode.url) { videoPlayer.src = episode.url; }
            currentEpisodeTitle.textContent = `You are watching EP ${episode.e} - ${episode.title}`;
            
            document.querySelectorAll('.episode-item').forEach((item, idx) => {
                item.classList.toggle('current', idx === currentIndex);
            });
            
            downloadLinksTbody.innerHTML = `
                <tr>
                    <td data-label=\"Episode\">Episode ${episode.e}</td>
                    <td data-label=\"Quality\">1080p</td>
                    <td data-label=\"Video\"><a href=\"#\" class=\"download-btn\"><i class=\"fas fa-download\"></i> Download</a></td>
                    <td data-label=\"Subtitles\"><a href=\"#\" class=\"download-btn\"><i class=\"fas fa-closed-captioning\"></i> Download</a></td>
                </tr>`;

            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === totalEpisodes - 1;
        }

        function generateEpisodeList() {
            episodeData.forEach((ep, index) => {
                episodeListContainer.innerHTML += `<a class=\"episode-item\" data-index=\"${index}\"><div class=\"ep-info\"><p class=\"ep-number\">EP ${ep.e}</p><p class=\"ep-desc\">${ep.title}</p></div></a>`;
            });
        }
        
        episodeListContainer.addEventListener('click', (e) => {
            const item = e.target.closest('.episode-item');
            if (item) updateUI(parseInt(item.dataset.index));
        });

        prevBtn.addEventListener('click', () => { if (currentIndex > 0) updateUI(currentIndex - 1); });
        nextBtn.addEventListener('click', () => { if (currentIndex < totalEpisodes - 1) updateUI(currentIndex + 1); });

        generateEpisodeList();
        updateUI(0);

        const synopsisText = document.getElementById('synopsis-text');
        const readMoreBtn = document.getElementById('read-more-btn');
        if (synopsisText && readMoreBtn) {
            readMoreBtn.addEventListener('click', (e) => {
                e.preventDefault();
                synopsisText.classList.toggle('truncated');
                readMoreBtn.textContent = synopsisText.classList.contains('truncated') ? 'Read More' : 'Read Less';
            });
        }
    });
    </script>
</body>
</html>